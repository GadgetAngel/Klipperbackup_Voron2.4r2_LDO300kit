#.................................................................................................................
# M141 -required parameters:  S={Enclosure_temperature} / Usage: M141, M141 S=50
#   Sets enclosure temperature
#.................................................................................................................
# Required variable(s) to be set. Add the following to your global variable dictionary block as:
#
#[gcode_macro globalvariables]
#variable_defaultEnclosure: 50          # The default Enclosure temperature if none is specified
#
#.................................................................................................................
# Required external macro(s) used by this macro set.
#
# _general_Debug
# GLOBALVARIABLES
#.................................................................................................................

[gcode_macro M141]
gcode:
    _general_Debug msg="M141 - entering"
    {% set defaultENCLOSURE = printer["gcode_macro globalvariables"].defaultenclosure|float %}
    {% set S = params.S|default(defaultENCLOSURE) %}
    SET_GCODE_VARIABLE MACRO=globalvariables VARIABLE=defaultenclosure VALUE={S} 
    M118 Enclosure set to {S}C.
    _general_Debug msg="M141 - exiting"
