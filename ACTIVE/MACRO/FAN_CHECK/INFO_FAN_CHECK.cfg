# INFO_FAN_CHECK
[gcode_macro INFO_FAN_CHECK]
gcode:
    _general_Debug msg="INFO_FAN_CHECK- entering"
   {% set he_rpm = printer['heater_fan fan_hotend'].rpm|float %}
   {% set he_stop_count = printer['gcode_macro _HOTEND_FAN_CHECK'].he_stop_count|int %}
   {% set part_cooling_fan_enabled = printer["gcode_macro PART_COOLING_FAN_VAR"].part_cooling_fan_enabled|int %}
   {% set pc_stop_count = printer["gcode_macro _PART_COOLING_FAN_CHECK"].pc_stop_count|int %}
   {% set pc_rpm = printer['fan'].rpm|float %}
   {% set string1 = "INFO_FAN_CHECK <++++" %}
   {% set string1 = string1 ~ "\nHotEnd Fan min_rpm = 3500;" %}
   {% set string1 = string1 ~ "\nHotEnd Fan current_rpm = %.2f;" %}
   {% set string1 = string1 ~ "\nHotEnd Fan max_consecutive_stops = 3;" %}
   {% set string1 = string1 ~ "\nHotEnd Fan stop_count = %d;" %}
   {% set string1 = string1 ~ "\nPartCooling Fan Enabled = %d;" %}
   {% set string1 = string1 ~ "\nPartCooling Fan min_rpm = 600;" %}
   {% set string1 = string1 ~ "\nPartCooling Fan current_rpm = %.2f;" %}
   {% set string1 = string1 ~ "\nPartCooling Fan max_consecutive_stops = 3;" %}
   {% set string1 = string1 ~ "\nPartCooling Fan stop_count = %d;" %}
   {% set string1 = string1 ~ "\nEnd of INFO_FAN_CHECK ++++>" %}
   {action_respond_info(string1 % (he_rpm, he_stop_count, part_cooling_fan_enabled, pc_rpm, pc_stop_count)) }
    _general_Debug msg="INFO_FAN_CHECK- exiting"