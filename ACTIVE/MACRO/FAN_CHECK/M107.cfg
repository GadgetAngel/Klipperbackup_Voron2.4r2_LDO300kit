#.................................................................................................................
# M107 - No additional options / Usage: M107
#   Replaces M107 (Turn Part Cooling Fan OFF) to set the variable part_cooling_fan_enabled from PART_COOLING_FAN_VAR macro 
#   and then calls the M107 command.
#.................................................................................................................
# Required variable(s) to be set. Add the following to your global variable dictionary block as:
#
## ---NONE---
#.................................................................................................................
# Required external macro(s) used by this macro.
#
# _general_Debug
#.................................................................................................................

#.................................................................................................................
#
## URL Resources: https://ellis3dp.com/Print-Tuning-Guide/articles/useful_macros/hotend_fan_monitoring.html#hotend-fan-rpm-monitoring
#      
#.................................................................................................................

[gcode_macro M107]
# M107: Fan Off
description: Part Cooling Fan Off
rename_existing: M107.1
gcode:
    _general_Debug msg="M107 - entering"
	SET_GCODE_VARIABLE MACRO=PART_COOLING_FAN_VAR VARIABLE=part_cooling_fan_enabled VALUE=0
	M107.1 {rawparams}
    _general_Debug msg="M107 - exiting"