[gcode_macro QUERY_PROBE_OUTPUT]
gcode:
    {% set probe_attached = printer["gcode_macro _Probe_Variables"].probe_attached %}
    {% set probe_lock = printer["gcode_macro _Probe_Variables"].probe_lock %}
    QUERY_PROBE
    {% if printer.probe.last_query %}
        {% set string2 = "true" %}
    {% else %}
        {% set string2 = "FALSE" %}
    {% endif %}
    {action_respond_info("=================\nQUERY_PROBE = %s;\nprobe_attached = %s;\nprobe_lock = %s;\n=================" % (string2, probe_attached|string, probe_lock|string)) } 
